# ==========================================
# Parser Tool Environment Configuration
# ==========================================
# Copy this file to .env and fill in your values

# ==========================================
# NEON (PostgreSQL Database)
# ==========================================
# Connection URL for Neon PostgreSQL database
# Format: postgresql://username:password@host/database?sslmode=require
# Used for: Storing extracted document fields
NEON_URL=postgresql://username:password@ep-example-123.us-east-2.aws.neon.tech/neondb?sslmode=require

# ==========================================
# FIREBASE (Optional)
# ==========================================
# Path to Firebase service account credentials JSON file
# Used for: Alternative storage in Firestore
# Download from: Firebase Console > Project Settings > Service Accounts
FIREBASE_CREDENTIALS=/path/to/firebase-credentials.json

# ==========================================
# N8N (Workflow Automation)
# ==========================================
# Webhook URL for n8n workflow automation
# Used for: Triggering automated workflows after field extraction
# Format: https://your-n8n-instance.com/webhook/doc-parser
N8N_DOC_WEBHOOK_URL=https://your-n8n-instance.com/webhook/doc-parser

# ==========================================
# DEEPSEEK OCR (Optional)
# ==========================================
# Path to DeepSeek OCR script
# Used for: Advanced OCR processing
DEEPSEEK_OCR_PATH=./backend/tools/parser/core/run_dpsk_ocr_pdf.py

# ==========================================
# PROCESSING CONFIGURATION
# ==========================================
# Maximum file size for uploads (in MB)
MAX_FILE_SIZE_MB=50

# OCR processing timeout (in seconds)
OCR_TIMEOUT_SECONDS=300

# Field extraction confidence threshold (0.0 - 1.0)
MIN_CONFIDENCE_THRESHOLD=0.5

# ==========================================
# LOGGING
# ==========================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (optional)
LOG_FILE_PATH=./logs/parser.log

# ==========================================
# CORS (for frontend integration)
# ==========================================
# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:8080

# ==========================================
# SERVER CONFIGURATION
# ==========================================
# Server host
HOST=0.0.0.0

# Server port (if running standalone)
PORT=8000

# Environment: development, staging, production
ENVIRONMENT=development

# ==========================================
# FEATURE FLAGS
# ==========================================
# Enable/disable specific destinations
ENABLE_NEON=true
ENABLE_FIREBASE=false
ENABLE_N8N=true

# Enable DeepSeek OCR
ENABLE_DEEPSEEK_OCR=false

# ==========================================
# DATABASE SCHEMA
# ==========================================
# Schema name for parser tables
DB_SCHEMA_NAME=public

# Table name for extracted fields
DB_TABLE_NAME=doc_parser_fillable

# ==========================================
# MONITORING & OBSERVABILITY
# ==========================================
# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# Application metrics endpoint (optional)
METRICS_ENDPOINT=
